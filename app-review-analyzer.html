<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App Review Analyzer | Sentiment & Keywords</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #003370;
            --primary-light: #1a4b87;
            --primary-dark: #002550;
            --secondary: #ff6536;
            --secondary-light: #ff8661;
            --secondary-dark: #e44d22;
            --light-blue: #eef6ff;
            --light-blue-2: #f5f8ff;
            --light-orange: #fff8f5;
            --text-dark: #212529;
            --text-light: #6c757d;
            --white: #ffffff;
            --light-gray: #f8f9fa;
            --border-gray: #e9ecef;
            --success: #28a745;
            --success-light: #e5f7ea;
            --warning: #ffc107;
            --warning-light: #fff8e6;
            --danger: #dc3545;
            --danger-light: #fbeeef;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background-color: #f5f8fb;
            padding: 0;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .header-area {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 60px 0 120px;
            position: relative;
            overflow: hidden;
        }
        
        .header-area .shapes {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
            z-index: 0;
        }
        
        .header-area .shape {
            position: absolute;
            opacity: 0.1;
        }
        
        .header-area .shape-1 {
            top: 15%;
            right: 10%;
            width: 300px;
            height: 300px;
            border-radius: 40% 60% 70% 30% / 40% 50% 50% 60%;
            background: rgba(255, 255, 255, 0.3);
            animation: morph 8s linear infinite alternate;
        }
        
        .header-area .shape-2 {
            bottom: 10%;
            left: 10%;
            width: 200px;
            height: 200px;
            border-radius: 59% 41% 70% 30% / 53% 51% 49% 47%;
            background: var(--secondary);
            animation: morph 7s linear infinite alternate;
        }
        
        .header-area .shape-3 {
            top: 50%;
            left: 50%;
            width: 150px;
            height: 150px;
            border-radius: 42% 58% 43% 57% / 51% 39% 61% 49%;
            background: rgba(255, 255, 255, 0.2);
            animation: morph 6s linear infinite alternate;
        }
        
        @keyframes morph {
            0% {
                border-radius: 40% 60% 70% 30% / 40% 50% 50% 60%;
            }
            100% {
                border-radius: 70% 30% 50% 50% / 30% 60% 40% 70%;
            }
        }
        
        .header-area::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 800'%3E%3Cg fill='none' stroke='rgba(255,255,255,0.1)' stroke-width='1'%3E%3Cpath d='M769 229L1037 260.9M927 880L731 737 520 660 309 538 40 599 295 764 126.5 879.5 40 599-197 493 102 382-31 229 126.5 79.5-69-63'/%3E%3Cpath d='M-31 229L237 261 390 382 603 493 308.5 537.5 101.5 381.5M370 905L295 764'/%3E%3Cpath d='M520 660L578 842 731 737 840 599 603 493 520 660 295 764 309 538 390 382 539 269 769 229 577.5 41.5 370 105 295 -36 126.5 79.5 237 261 102 382 40 599 -69 737 127 880'/%3E%3Cpath d='M520-140L578.5 42.5 731-63M603 493L539 269 237 261 370 105M902 382L539 269M390 382L102 382'/%3E%3Cpath d='M-222 42L126.5 79.5 370 105 539 269 577.5 41.5 927 80 769 229 902 382 603 493 731 737M295-36L577.5 41.5M578 842L295 764M40-201L127 80M102 382L-261 269'/%3E%3C/g%3E%3C/svg%3E");
            opacity: 0.1;
            z-index: 0;
        }
        
        .header {
            position: relative;
            z-index: 1;
            text-align: center;
        }
        
        .header h1 {
            font-weight: 700;
            font-size: 42px;
            margin-bottom: 15px;
            letter-spacing: -0.5px;
            position: relative;
            display: inline-block;
        }
        
        .header h1::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--secondary);
            border-radius: 2px;
        }
        
        .header-icon {
            font-size: 40px;
            margin-bottom: 20px;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .header p {
            font-size: 18px;
            opacity: 0.9;
            max-width: 600px;
            margin: 25px auto 0;
            line-height: 1.8;
        }
        
        .main-content {
            margin-top: -60px;
            position: relative;
            z-index: 10;
            padding-bottom: 60px;
        }
        
        .analyzer-container {
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 35, 80, 0.1);
            padding: 30px;
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }
        
        .analyzer-container:hover {
            box-shadow: 0 15px 35px rgba(0, 35, 80, 0.15);
            transform: translateY(-5px);
        }
        
        .section-title {
            position: relative;
            display: inline-block;
            margin-bottom: 30px;
            color: var(--primary);
            font-weight: 700;
            font-size: 24px;
        }
        
        .section-title::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -10px;
            width: 50px;
            height: 3px;
            background-color: var(--secondary);
        }
        
        .tabs {
            display: flex;
            margin-bottom: 30px;
            background-color: var(--light-gray);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid var(--border-gray);
        }
        
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
            color: var(--text-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .tab img, .tab svg {
            width: 20px;
            height: 20px;
        }
        
        .tab.active {
            background-color: var(--white);
            color: var(--primary);
        }
        
        .tab.active::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 3px;
            background-color: var(--secondary);
        }
        
        .tab:hover:not(.active) {
            background-color: rgba(255, 255, 255, 0.5);
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .tab-description {
            color: var(--text-light);
            margin-bottom: 25px;
            font-size: 15px;
        }
        
        .input-group {
            margin-bottom: 24px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary);
            font-size: 15px;
        }
        
        input, select {
            width: 100%;
            padding: 14px;
            border: 1px solid var(--border-gray);
            border-radius: 8px;
            font-size: 16px;
            font-family: 'Montserrat', sans-serif;
            transition: all 0.3s ease;
            background-color: var(--white);
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 3px rgba(255, 101, 54, 0.2);
        }
        
        button {
            background-color: var(--secondary);
            color: var(--white);
            border: none;
            padding: 14px 20px;
            width: 100%;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
            z-index: -1;
        }
        
        button:hover::before {
            left: 100%;
        }
        
        button:hover {
            background-color: var(--secondary-dark);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 101, 54, 0.3);
        }
        
        button:disabled {
            background-color: var(--light-gray);
            color: var(--text-light);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        button:disabled::before {
            display: none;
        }
        
        .row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -15px;
        }
        
        .col {
            flex: 1;
            padding: 0 15px;
            min-width: 300px;
        }
        
        .upload-container {
            border: 2px dashed var(--border-gray);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            margin-bottom: 25px;
            transition: all 0.3s ease;
            background-color: var(--light-blue);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }
        
        .upload-container::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 24 24' fill='none' stroke='rgba(0, 51, 112, 0.05)' stroke-width='0.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4'%3E%3C/path%3E%3Cpolyline points='17 8 12 3 7 8'%3E%3C/polyline%3E%3Cline x1='12' y1='3' x2='12' y2='15'%3E%3C/line%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: 95% 10%;
            background-size: 80px;
            pointer-events: none;
        }
        
        .upload-container:hover, .upload-container.dragging {
            border-color: var(--secondary);
            background-color: var(--light-orange);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05);
        }
        
        .upload-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            background-color: rgba(255, 101, 54, 0.1);
            font-size: 36px;
            color: var(--secondary);
            transition: all 0.3s ease;
        }
        
        .upload-container:hover .upload-icon {
            transform: scale(1.1);
            background-color: rgba(255, 101, 54, 0.2);
        }
        
        .upload-text {
            margin-bottom: 15px;
            color: var(--primary);
            font-weight: 600;
            font-size: 18px;
        }
        
        .upload-description {
            color: var(--text-light);
            font-size: 14px;
            margin-bottom: 25px;
        }
        
        .file-input {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }
        
        .upload-btn-wrapper {
            position: relative;
            display: inline-block;
        }
        
        .browse-button {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 51, 112, 0.1);
        }
        
        .browse-button:hover {
            background-color: var(--primary-light);
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 51, 112, 0.15);
        }
        
        .file-info {
            margin-top: 20px;
            padding: 12px;
            color: var(--primary);
            font-size: 14px;
            font-weight: 500;
            border-radius: 8px;
            background-color: var(--light-blue-2);
            display: none;
        }
        
        .file-info.show {
            display: block;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .progress-container {
            margin-top: 15px;
            display: none;
        }
        
        .progress-container.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        progress {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            border: none;
            background-color: var(--light-gray);
            margin-bottom: 5px;
        }
        
        progress::-webkit-progress-bar {
            background-color: var(--light-gray);
            border-radius: 4px;
        }
        
        progress::-webkit-progress-value {
            background-color: var(--secondary);
            border-radius: 4px;
            transition: width 0.3s ease;
        }
        
        progress::-moz-progress-bar {
            background-color: var(--secondary);
            border-radius: 4px;
        }
        
        .progress-text {
            font-size: 12px;
            color: var(--text-light);
            text-align: right;
        }
        
        .results-container {
            display: none;
            margin-top: 40px;
            animation: fadeIn 0.5s ease;
        }
        
        .results-container.show {
            display: block;
        }
        
        .store-results {
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 35, 80, 0.1);
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .store-results:hover {
            box-shadow: 0 15px 35px rgba(0, 35, 80, 0.15);
            transform: translateY(-5px);
        }
        
        .store-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .store-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background-color: white;
            background-size: 30px;
            background-position: center;
            background-repeat: no-repeat;
            margin-right: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            z-index: 1;
        }
        
        .synopsis-container {
            background-color: var(--light-blue);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            position: relative;
            border-left: 4px solid var(--primary);
        }
        
        .synopsis-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .synopsis-text {
            color: var(--text-dark);
            line-height: 1.6;
            font-size: 15px;
        }
        
        .sentiment-box {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .sentiment-card {
            flex: 1;
            min-width: 150px;
            padding: 25px 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .sentiment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .sentiment-title {
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .sentiment-value {
            font-size: 28px;
            font-weight: 700;
        }
        
        .positive-sentiment {
            background-color: var(--success-light);
            color: var(--success);
        }
        
        .neutral-sentiment {
            background-color: rgba(108, 117, 125, 0.1);
            color: var(--text-light);
        }
        
        .negative-sentiment {
            background-color: var(--danger-light);
            color: var(--danger);
        }
        
        .average-rating {
            background-color: var(--warning-light);
            color: var(--warning);
        }
        
        .keywords-container {
            margin-top: 40px;
            position: relative;
            z-index: 1;
        }
        
        .keyword-title {
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--primary);
            font-size: 18px;
            position: relative;
            display: inline-block;
        }
        
        .keyword-title::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -5px;
            width: 30px;
            height: 2px;
            background-color: var(--secondary);
        }
        
        .keywords-list {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .keyword-tag {
            background-color: var(--light-blue);
            color: var(--primary);
            padding: 10px 15px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 51, 112, 0.1);
            transition: all 0.3s ease;
        }
        
        .keyword-tag:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 51, 112, 0.15);
        }
        
        .keyword-count {
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
            margin-left: 8px;
            font-weight: 700;
        }
        
        .review-sample {
            margin-top: 40px;
            border-top: 1px solid var(--border-gray);
            padding-top: 30px;
            position: relative;
            z-index: 1;
        }
        
        .review-title {
            font-weight: 600;
            margin-bottom: 25px;
            color: var(--primary);
            font-size: 18px;
            position: relative;
            display: inline-block;
        }
        
        .review-title::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: -5px;
            width: 30px;
            height: 2px;
            background-color: var(--secondary);
        }
        
        .review-card {
            background-color: var(--light-gray);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.03);
        }
        
        .review-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.07);
        }
        
        .review-positive {
            border-left-color: var(--success);
        }
        
        .review-neutral {
            border-left-color: var(--text-light);
        }
        
        .review-negative {
            border-left-color: var(--danger);
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            align-items: center;
        }
        
        .reviewer-name {
            font-weight: 600;
            color: var(--primary);
        }
        
        .review-date {
            color: var(--text-light);
            font-size: 14px;
        }
        
        .review-rating {
            color: var(--warning);
            margin-bottom: 12px;
            font-size: 18px;
        }
        
        .review-text {
            font-size: 15px;
            line-height: 1.6;
            color: var(--text-dark);
        }
        
        .back-link {
            color: var(--primary);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            margin-top: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .back-link:hover {
            color: var(--secondary);
        }
        
        .back-link svg {
            margin-right: 8px;
        }
        
        .footer {
            background-color: var(--primary-dark);
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        
        .footer-content {
            max-width: 500px;
            margin: 0 auto;
        }
        
        .footer-logo {
            font-weight: 700;
            font-size: 24px;
            margin-bottom: 15px;
            color: white;
        }
        
        .footer-text {
            opacity: 0.8;
            font-size: 14px;
            margin-bottom: 20px;
        }
        
        .copyright {
            opacity: 0.6;
            font-size: 14px;
        }
        
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-weight: 500;
            display: none;
        }
        
        .alert.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        .alert-success {
            background-color: var(--success-light);
            color: var(--success);
            border-left: 4px solid var(--success);
        }
        
        .alert-danger {
            background-color: var(--danger-light);
            color: var(--danger);
            border-left: 4px solid var(--danger);
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 28px;
            }
            
            .header p {
                font-size: 16px;
            }
            
            .row {
                flex-direction: column;
            }
            
            .sentiment-box {
                flex-direction: column;
            }
            
            .sentiment-card {
                margin-bottom: 15px;
            }
            
            .analyzer-container, .store-results {
                padding: 20px;
            }
            
            .section-title, .tab-title {
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="header-area">
        <div class="shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
        </div>
        <div class="container">
            <div class="header">
                <div class="header-icon">📊</div>
                <h1>App Review Analyzer</h1>
                <p>Extract valuable insights from customer reviews with our powerful sentiment analysis and keyword extraction tool</p>
            </div>
        </div>
    </div>
    
    <div class="main-content">
        <div class="container">
            <div class="analyzer-container">
                <div id="alert" class="alert"></div>
                
                <div class="tabs">
                    <div class="tab active" onclick="switchTab('playStore')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3.18 13.54L12 20.36L20.82 13.54L21.94 15.08L12 22.5L2.06 15.08L3.18 13.54Z" fill="#4285F4"/>
                            <path d="M12 3.5L21.94 10.92L20.82 12.46L12 5.64L3.18 12.46L2.06 10.92L12 3.5Z" fill="#EA4335"/>
                            <path d="M3.18 10.92L12 3.5L20.82 10.92L12 18.34L3.18 10.92Z" fill="#FBBC04"/>
                        </svg>
                        Google Play Store
                    </div>
                    <div class="tab" onclick="switchTab('appStore')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M16.74 16.59C16.12 17.74 15.47 18.86 14.47 18.87C13.48 18.88 13.14 18.15 12 18.15C10.86 18.15 10.52 18.86 9.53 18.87C8.53 18.88 7.83 17.67 7.21 16.52C5.94 14.18 5.9 10.23 7.72 8.62C8.55 7.86 9.69 7.45 10.76 7.45C11.84 7.45 12.61 8.17 13.58 8.17C14.55 8.17 15.2 7.45 16.44 7.45C17.38 7.45 18.36 7.79 19.19 8.45C16.94 9.79 17.37 13.24 19.19 14.19C18.56 15.05 17.59 16.23 16.74 16.59Z" fill="#007AFF"/>
                            <path d="M12.46 7.45C12.33 6.07 13.31 4.87 14.28 4.13C15.25 3.38 16.58 2.94 17.58 3C17.67 4.53 16.97 6.04 16.01 6.79C15.06 7.54 13.72 7.97 12.46 7.45Z" fill="#007AFF"/>
                        </svg>
                        App Store
                    </div>
                </div>
                
                <!-- Play Store Tab Content -->
                <div id="playStore" class="tab-content active">
                    <div class="tab-title">Analyze Play Store Reviews</div>
                    <p class="tab-description">Upload your reviews CSV from Google Play Console to get insights into customer sentiment and common themes</p>
                    
                    <div class="upload-container" id="playStoreUploadContainer">
                        <div class="upload-icon">📈</div>
                        <div class="upload-text">Upload Your Play Store Reviews</div>
                        <p class="upload-description">Drag & drop your CSV file or click to browse your computer</p>
                        
                        <div class="upload-btn-wrapper">
                            <label for="playStoreCsv" class="browse-button">Browse Files</label>
                            <input type="file" id="playStoreCsv" class="file-input" accept=".csv,.xlsx,.xls">
                        </div>
                        
                        <div id="playStoreFileInfo" class="file-info"></div>
                        
                        <div id="playStoreProgress" class="progress-container">
                            <progress id="playStoreProgressBar" value="0" max="100"></progress>
                            <div id="playStoreProgressText" class="progress-text">Uploading... 0%</div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col">
                            <div class="input-group">
                                <label for="playStoreStartDate">Start Date (Optional)</label>
                                <input type="date" id="playStoreStartDate">
                            </div>
                        </div>
                        
                        <div class="col">
                            <div class="input-group">
                                <label for="playStoreEndDate">End Date (Optional)</label>
                                <input type="date" id="playStoreEndDate">
                            </div>
                        </div>
                    </div>
                    
                    <button id="analyzePlayStoreButton" onclick="analyzePlayStoreReviews()" disabled>Analyze Reviews</button>
                </div>
                
                <!-- App Store Tab Content -->
                <div id="appStore" class="tab-content">
                    <div class="tab-title">Analyze App Store Reviews</div>
                    <p class="tab-description">Upload your reviews CSV from App Store Connect for comprehensive sentiment analysis and keyword extraction</p>
                    
                    <div class="upload-container" id="appStoreUploadContainer">
                        <div class="upload-icon">📊</div>
                        <div class="upload-text">Upload Your App Store Reviews</div>
                        <p class="upload-description">Drag & drop your CSV file or click to browse your computer</p>
                        
                        <div class="upload-btn-wrapper">
                            <label for="appStoreCsv" class="browse-button">Browse Files</label>
                            <input type="file" id="appStoreCsv" class="file-input" accept=".csv,.xlsx,.xls">
                        </div>
                        
                        <div id="appStoreFileInfo" class="file-info"></div>
                        
                        <div id="appStoreProgress" class="progress-container">
                            <progress id="appStoreProgressBar" value="0" max="100"></progress>
                            <div id="appStoreProgressText" class="progress-text">Uploading... 0%</div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col">
                            <div class="input-group">
                                <label for="appStoreStartDate">Start Date (Optional)</label>
                                <input type="date" id="appStoreStartDate">
                            </div>
                        </div>
                        
                        <div class="col">
                            <div class="input-group">
                                <label for="appStoreEndDate">End Date (Optional)</label>
                                <input type="date" id="appStoreEndDate">
                            </div>
                        </div>
                    </div>
                    
                    <button id="analyzeAppStoreButton" onclick="analyzeAppStoreReviews()" disabled>Analyze Reviews</button>
                </div>
            </div>
            
            <!-- Results container -->
            <div id="resultsContainer" class="results-container"></div>
            
            <a href="index.html" class="back-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M19 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                Back to EMI Calculator
            </a>
        </div>
    </div>
    
    <div class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">Financial Tools</div>
                <p class="footer-text">A collection of useful financial and analytics tools designed to help you make better decisions.</p>
                <div class="copyright">© 2023 Financial Tools. All rights reserved.</div>
            </div>
        </div>
    </div>

    <script>
        // Set default date values (last 30 days)
        window.onload = function() {
            const today = new Date();
            const thirtyDaysAgo = new Date();
            thirtyDaysAgo.setDate(today.getDate() - 30);
            
            const dateInputs = ['playStoreStartDate', 'playStoreEndDate', 'appStoreStartDate', 'appStoreEndDate'];
            dateInputs.forEach(id => {
                const input = document.getElementById(id);
                if (id.includes('End')) {
                    input.valueAsDate = today;
                } else {
                    input.valueAsDate = thirtyDaysAgo;
                }
            });
            
            // Set up file upload event listeners
            document.getElementById('playStoreCsv').addEventListener('change', function() {
                handleFileSelect(this, 'playStore');
            });
            
            document.getElementById('appStoreCsv').addEventListener('change', function() {
                handleFileSelect(this, 'appStore');
            });
            
            // Set up drag and drop
            setupDragAndDrop('playStoreUploadContainer', 'playStore');
            setupDragAndDrop('appStoreUploadContainer', 'appStore');
        };
        
        // Global variables to store review data
        let playStoreData = [];
        let appStoreData = [];
        
        function showAlert(message, type) {
            const alertElement = document.getElementById('alert');
            alertElement.textContent = message;
            alertElement.className = 'alert ' + (type === 'success' ? 'alert-success' : 'alert-danger');
            alertElement.classList.add('show');
            
            // Hide alert after 5 seconds
            setTimeout(() => {
                alertElement.classList.remove('show');
            }, 5000);
        }
        
        function switchTab(tabId) {
            // Hide all tabs and remove active class
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab and add active class
            document.getElementById(tabId).classList.add('active');
            document.querySelector(`.tab[onclick="switchTab('${tabId}')"]`).classList.add('active');
        }
        
        function setupDragAndDrop(containerId, storeType) {
            const container = document.getElementById(containerId);
            
            // Prevent default drag behaviors
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                container.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            // Highlight drop zone when item is dragged over it
            ['dragenter', 'dragover'].forEach(eventName => {
                container.addEventListener(eventName, function() {
                    container.classList.add('dragging');
                });
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                container.addEventListener(eventName, function() {
                    container.classList.remove('dragging');
                });
            });
            
            // Handle dropped files
            container.addEventListener('drop', function(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                
                if (files.length) {
                    const fileInput = document.getElementById(`${storeType}Csv`);
                    fileInput.files = files;
                    handleFileSelect(fileInput, storeType);
                }
            });
            
            // Make the container clickable
            container.addEventListener('click', function() {
                document.getElementById(`${storeType}Csv`).click();
            });
        }
        
        function handleFileSelect(fileInput, storeType) {
            if (!fileInput.files || !fileInput.files.length) {
                showAlert('No file selected. Please select a CSV or Excel file.', 'danger');
                return;
            }
            
            const file = fileInput.files[0];
            const validExtensions = ['.csv', '.xlsx', '.xls'];
            const fileExtension = file.name.substring(file.name.lastIndexOf('.')).toLowerCase();
            
            if (!validExtensions.includes(fileExtension)) {
                showAlert('Please upload a CSV or Excel file.', 'danger');
                return;
            }
            
            // Update file info
            const fileInfoElement = document.getElementById(`${storeType}FileInfo`);
            fileInfoElement.textContent = `Selected: ${file.name} (${(file.size / 1024).toFixed(2)} KB)`;
            fileInfoElement.classList.add('show');
            
            // Show progress container
            const progressContainer = document.getElementById(`${storeType}Progress`);
            progressContainer.classList.add('show');
            
            const progressBar = document.getElementById(`${storeType}ProgressBar`);
            const progressText = document.getElementById(`${storeType}ProgressText`);
            
            // Simulate file processing with progress
            let progress = 0;
            progressBar.value = progress;
            
            const interval = setInterval(() => {
                progress += 2;
                progressBar.value = progress;
                progressText.textContent = `Processing... ${progress}%`;
                
                if (progress >= 100) {
                    clearInterval(interval);
                    progressText.textContent = 'Processing complete!';
                    
                    // Enable the analyze button
                    document.getElementById(`analyze${storeType.charAt(0).toUpperCase() + storeType.slice(1)}Button`).disabled = false;
                    
                    // Generate sample data for the demo
                    if (storeType === 'playStore') {
                        playStoreData = generateSampleData('playStore');
                        showAlert('Play Store reviews processed successfully!', 'success');
                    } else {
                        appStoreData = generateSampleData('appStore');
                        showAlert('App Store reviews processed successfully!', 'success');
                    }
                }
            }, 50);
        }
        
        function generateSampleData(storeType) {
            const numReviews = Math.floor(Math.random() * 51) + 100; // 100-150 reviews
            const reviews = [];
            
            const playStoreReviews = [
                "Great app! Very user friendly and loads fast. Would be great if they added fingerprint login for easier access.",
                "The app is okay but crashes sometimes when I try to complete a payment. Customer support is responsive though.",
                "App keeps crashing every time I try to log in. Payment system is not working properly. Very frustrating!",
                "Love this app. It's made managing my finances so much easier. Highly recommend!",
                "Can't even create an account. Keeps giving me an error message. Fix this please!",
                "The new update is terrible. Now everything loads slowly and the UI is confusing.",
                "App works perfectly. No issues at all. Clean interface and intuitive design.",
                "Needs dark mode! Otherwise it's a great app with lots of useful features.",
                "I would give zero stars if I could. The app deleted all my saved data after the update.",
                "Very useful tool for planning my budget. Would like to see more chart options though.",
                "The calculator feature is super helpful. Just wish it had more loan types available.",
                "Too many bugs in the latest version. Going back to using the website instead.",
                "Customer service is excellent. Had an issue and they resolved it within hours.",
                "Love the clean design but please add the ability to export data to Excel.",
                "App crashes whenever I try to use the calculator function. Please fix!"
            ];
            
            const appStoreReviews = [
                "Love this app! So easy to use and much better than their website. The UI is great and intuitive.",
                "App works fine but loads slowly sometimes. Would be great if they added a dark mode option.",
                "Missing several features from the website. Payment feature doesn't work properly. Disappointing!",
                "Very clean interface and easy to navigate. Definitely recommend for managing finances.",
                "The app keeps logging me out every few minutes. Very annoying!",
                "Great concept but execution is lacking. Needs more features to be truly useful.",
                "Perfect for what I need. Simple, fast, and accurate calculations.",
                "Latest update broke the loan calculator. Please fix it soon!",
                "I use this app daily and it's become an essential tool for me. Thank you devs!",
                "Would like to see more customization options for the dashboard.",
                "Crashes on my iPhone 12. Had to uninstall and reinstall to get it working.",
                "Unable to save my settings. They reset every time I close the app.",
                "The best financial app I've used. Clear, concise, and very helpful.",
                "Need more loan types and better explanation of the calculation methods.",
                "Can't believe this app is free! So many useful features for financial planning."
            ];
            
            const reviewList = storeType === 'playStore' ? playStoreReviews : appStoreReviews;
            
            const startDate = new Date();
            startDate.setDate(startDate.getDate() - 90); // Reviews from last 90 days
            
            for (let i = 0; i < numReviews; i++) {
                const reviewIndex = Math.floor(Math.random() * reviewList.length);
                const ratingValue = getWeightedRating();
                
                // Generate random date within last 90 days
                const reviewDate = new Date(startDate);
                reviewDate.setDate(reviewDate.getDate() + Math.floor(Math.random() * 90));
                
                reviews.push({
                    text: reviewList[reviewIndex],
                    rating: ratingValue,
                    date: reviewDate.toISOString().split('T')[0],
                    user: `User ${i+1}`
                });
            }
            
            return reviews;
        }
        
        function getWeightedRating() {
            // Create a weighted distribution favoring higher ratings (more realistic)
            const weights = [0.1, 0.1, 0.15, 0.3, 0.35]; // Weights for 1-5 stars
            const random = Math.random();
            let sum = 0;
            
            for (let i = 0; i < weights.length; i++) {
                sum += weights[i];
                if (random < sum) return i + 1;
            }
            
            return 5; // Default to 5 if something goes wrong
        }
        
        function analyzePlayStoreReviews() {
            if (playStoreData.length === 0) {
                showAlert('No data available. Please upload a file first.', 'danger');
                return;
            }
            
            // Filter by date if specified
            const startDate = document.getElementById('playStoreStartDate').valueAsDate;
            const endDate = document.getElementById('playStoreEndDate').valueAsDate;
            
            let filteredData = playStoreData;
            if (startDate && endDate) {
                filteredData = playStoreData.filter(review => {
                    const reviewDate = new Date(review.date);
                    return reviewDate >= startDate && reviewDate <= endDate;
                });
                
                if (filteredData.length === 0) {
                    showAlert('No reviews found in the selected date range.', 'danger');
                    return;
                }
            }
            
            // Calculate sentiments based on ratings
            const sentiments = analyzeSentiments(filteredData);
            
            // Extract keywords from review text
            const keywords = extractKeywords(filteredData);
            
            // Generate sentiment synopsis
            const synopsis = generateSentimentSynopsis(filteredData, sentiments, keywords);
            
            // Display results
            displayResults('playStore', filteredData, sentiments, keywords, synopsis);
        }
        
        function analyzeAppStoreReviews() {
            if (appStoreData.length === 0) {
                showAlert('No data available. Please upload a file first.', 'danger');
                return;
            }
            
            // Similar to analyzePlayStoreReviews
            const startDate = document.getElementById('appStoreStartDate').valueAsDate;
            const endDate = document.getElementById('appStoreEndDate').valueAsDate;
            
            let filteredData = appStoreData;
            if (startDate && endDate) {
                filteredData = appStoreData.filter(review => {
                    const reviewDate = new Date(review.date);
                    return reviewDate >= startDate && reviewDate <= endDate;
                });
                
                if (filteredData.length === 0) {
                    showAlert('No reviews found in the selected date range.', 'danger');
                    return;
                }
            }
            
            const sentiments = analyzeSentiments(filteredData);
            const keywords = extractKeywords(filteredData);
            const synopsis = generateSentimentSynopsis(filteredData, sentiments, keywords);
            
            displayResults('appStore', filteredData, sentiments, keywords, synopsis);
        }
        
        function analyzeSentiments(reviews) {
            // Simple sentiment analysis based on star ratings
            const sentiments = {
                positive: 0,
                neutral: 0,
                negative: 0,
                average: 0
            };
            
            let totalRating = 0;
            
            reviews.forEach(review => {
                totalRating += review.rating;
                
                if (review.rating >= 4) {
                    sentiments.positive++;
                } else if (review.rating === 3) {
                    sentiments.neutral++;
                } else {
                    sentiments.negative++;
                }
            });
            
            // Calculate percentages
            const total = reviews.length;
            if (total > 0) {
                sentiments.positive = Math.round((sentiments.positive / total) * 100);
                sentiments.neutral = Math.round((sentiments.neutral / total) * 100);
                sentiments.negative = Math.round((sentiments.negative / total) * 100);
                sentiments.average = totalRating / total;
            }
            
            return sentiments;
        }
        
        function extractKeywords(reviews) {
            // Common words to exclude
            const stopWords = new Set([
                'the', 'and', 'a', 'to', 'is', 'in', 'that', 'it', 'with', 'for', 'as', 
                'on', 'was', 'be', 'at', 'this', 'have', 'from', 'or', 'but', 'not', 'by',
                'an', 'are', 'they', 'you', 'i', 'of', 'my', 'app', 'has', 'can', 'so',
                'would', 'could', 'should', 'will', 'just', 'me', 'more', 'some', 'now',
                'than', 'then', 'only', 'really', 'very', 'been', 'had', 'when', 'get',
                'got', 'all', 'also', 'which', 'who', 'what', 'where', 'why', 'how'
            ]);
            
            // Extract all words from reviews
            const wordCounts = {};
            const functionalPhrases = [];
            
            // Patterns to look for functional issues
            const functionalPatterns = [
                /crash(es|ed|ing)?/i,
                /bug(s|gy)?/i,
                /doesn't work/i,
                /not working/i,
                /add (a |an |the )?([a-z]+)/i,
                /need (a |an |the )?([a-z]+)/i,
                /missing ([a-z]+)/i,
                /can't ([a-z]+)/i,
                /error/i,
                /slow/i,
                /lag(s|gy|ging)?/i,
                /feature request/i,
                /payment (issue|problem)/i,
                /login (issue|problem)/i,
                /dark mode/i,
                /user friendly/i,
                /interface/i,
                /update/i,
                /version/i,
                /calculator/i,
                /load(s|ing)?/i,
                /export/i
            ];
            
            reviews.forEach(review => {
                if (!review.text) return;
                
                // Look for functional phrases
                functionalPatterns.forEach(pattern => {
                    const match = review.text.match(pattern);
                    if (match) {
                        let phrase = match[0].toLowerCase();
                        // Clean up the phrase
                        phrase = phrase.replace(/[^\w\s]/gi, '').trim();
                        
                        if (phrase && phrase.length > 3) {
                            const existingIndex = functionalPhrases.findIndex(p => p.text === phrase);
                            if (existingIndex >= 0) {
                                functionalPhrases[existingIndex].count++;
                            } else {
                                functionalPhrases.push({ text: phrase, count: 1 });
                            }
                        }
                    }
                });
                
                // Count all words
                const words = review.text.toLowerCase()
                    .replace(/[^\w\s]/gi, '')
                    .split(/\s+/);
                
                words.forEach(word => {
                    if (word && word.length > 3 && !stopWords.has(word)) {
                        wordCounts[word] = (wordCounts[word] || 0) + 1;
                    }
                });
            });
            
            // Convert to array and sort by count
            const keywordArray = Object.entries(wordCounts)
                .map(([text, count]) => ({ text, count }))
                .sort((a, b) => b.count - a.count)
                .slice(0, 10);
            
            // Combine functional phrases with top keywords
            const combined = [...functionalPhrases]
                .sort((a, b) => b.count - a.count)
                .slice(0, 15);
            
            // Add top keywords that aren't already covered by phrases
            keywordArray.forEach(keyword => {
                if (combined.length < 20 && !combined.some(p => p.text.includes(keyword.text))) {
                    combined.push(keyword);
                }
            });
            
            return combined.sort((a, b) => b.count - a.count);
        }
        
        function generateSentimentSynopsis(reviews, sentiments, keywords) {
            let dominantSentiment;
            let sentimentText;
            
            // Determine the dominant sentiment
            if (sentiments.positive >= Math.max(sentiments.neutral, sentiments.negative)) {
                dominantSentiment = "positive";
                sentimentText = `Overall sentiment is predominantly positive (${sentiments.positive}%)`;
            } else if (sentiments.neutral >= sentiments.negative) {
                dominantSentiment = "neutral";
                sentimentText = `Overall sentiment is mostly neutral (${sentiments.neutral}%)`;
            } else {
                dominantSentiment = "negative";
                sentimentText = `Overall sentiment is predominantly negative (${sentiments.negative}%)`;
            }
            
            // Get top positive and negative keywords
            const positiveReviews = reviews.filter(r => r.rating >= 4);
            const negativeReviews = reviews.filter(r => r.rating <= 2);
            
            const positiveKeywords = extractKeywords(positiveReviews).slice(0, 3);
            const negativeKeywords = extractKeywords(negativeReviews).slice(0, 3);
            
            // Create detailed synopsis
            let synopsis = sentimentText + ". ";
            
            // Add detail based on dominant sentiment
            if (dominantSentiment === "positive") {
                synopsis += `Users particularly appreciate `;
                if (positiveKeywords.length > 0) {
                    synopsis += positiveKeywords.map(k => `"${k.text}"`).join(', ');
                    
                    if (negativeKeywords.length > 0) {
                        synopsis += `. However, some users report issues with `;
                        synopsis += negativeKeywords.map(k => `"${k.text}"`).join(', ');
                        synopsis += `.`;
                    }
                }
            } else if (dominantSentiment === "neutral") {
                synopsis += `Users have mixed feelings. Positive aspects include `;
                if (positiveKeywords.length > 0) {
                    synopsis += positiveKeywords.map(k => `"${k.text}"`).join(', ');
                    
                    if (negativeKeywords.length > 0) {
                        synopsis += `, while common concerns focus on `;
                        synopsis += negativeKeywords.map(k => `"${k.text}"`).join(', ');
                        synopsis += `.`;
                    }
                }
            } else {
                synopsis += `Users are experiencing issues primarily with `;
                if (negativeKeywords.length > 0) {
                    synopsis += negativeKeywords.map(k => `"${k.text}"`).join(', ');
                    
                    if (positiveKeywords.length > 0) {
                        synopsis += `. Some positive aspects mentioned include `;
                        synopsis += positiveKeywords.map(k => `"${k.text}"`).join(', ');
                        synopsis += `.`;
                    }
                }
            }
            
            // Add rating context
            synopsis += ` The average rating is ${sentiments.average.toFixed(1)} out of 5 stars.`;
            
            return {
                sentiment: dominantSentiment,
                text: synopsis
            };
        }
        
        function displayResults(storeType, reviews, sentiments, keywords, synopsis) {
            // Create the results HTML
            const storeTitle = storeType === 'playStore' ? 'Google Play Store' : 'App Store';
            const storeIconClass = storeType === 'playStore' ? 'google-play-icon' : 'app-store-icon';
            
            // Create empty results container
            const resultsContainer = document.getElementById('resultsContainer');
            resultsContainer.innerHTML = ''; // Clear previous results
            
            // Create the store results section
            const storeResultsElement = document.createElement('div');
            storeResultsElement.className = 'store-results';
            
            // Create store header with icon
            let storeIcon;
            if (storeType === 'playStore') {
                storeIcon = `<svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.18 13.54L12 20.36L20.82 13.54L21.94 15.08L12 22.5L2.06 15.08L3.18 13.54Z" fill="#4285F4"/>
                    <path d="M12 3.5L21.94 10.92L20.82 12.46L12 5.64L3.18 12.46L2.06 10.92L12 3.5Z" fill="#EA4335"/>
                    <path d="M3.18 10.92L12 3.5L20.82 10.92L12 18.34L3.18 10.92Z" fill="#FBBC04"/>
                </svg>`;
            } else {
                storeIcon = `<svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M16.74 16.59C16.12 17.74 15.47 18.86 14.47 18.87C13.48 18.88 13.14 18.15 12 18.15C10.86 18.15 10.52 18.86 9.53 18.87C8.53 18.88 7.83 17.67 7.21 16.52C5.94 14.18 5.9 10.23 7.72 8.62C8.55 7.86 9.69 7.45 10.76 7.45C11.84 7.45 12.61 8.17 13.58 8.17C14.55 8.17 15.2 7.45 16.44 7.45C17.38 7.45 18.36 7.79 19.19 8.45C16.94 9.79 17.37 13.24 19.19 14.19C18.56 15.05 17.59 16.23 16.74 16.59Z" fill="#007AFF"/>
                    <path d="M12.46 7.45C12.33 6.07 13.31 4.87 14.28 4.13C15.25 3.38 16.58 2.94 17.58 3C17.67 4.53 16.97 6.04 16.01 6.79C15.06 7.54 13.72 7.97 12.46 7.45Z" fill="#007AFF"/>
                </svg>`;
            }
            
            storeResultsElement.innerHTML = `
                <div class="store-header">
                    <div class="store-icon" style="display: flex; align-items: center; justify-content: center;">${storeIcon}</div>
                    <h3>${storeTitle} Analysis</h3>
                </div>
                
                <div class="synopsis-container">
                    <div class="synopsis-title">Sentiment Overview</div>
                    <div class="synopsis-text">${synopsis.text}</div>
                </div>
                
                <div class="sentiment-box">
                    <div class="sentiment-card average-rating">
                        <div class="sentiment-title">Average Rating</div>
                        <div class="sentiment-value">${sentiments.average.toFixed(1)}</div>
                    </div>
                    <div class="sentiment-card positive-sentiment">
                        <div class="sentiment-title">Positive</div>
                        <div class="sentiment-value">${sentiments.positive}%</div>
                    </div>
                    <div class="sentiment-card neutral-sentiment">
                        <div class="sentiment-title">Neutral</div>
                        <div class="sentiment-value">${sentiments.neutral}%</div>
                    </div>
                    <div class="sentiment-card negative-sentiment">
                        <div class="sentiment-title">Negative</div>
                        <div class="sentiment-value">${sentiments.negative}%</div>
                    </div>
                </div>
                
                <div class="keywords-container">
                    <div class="keyword-title">Top Keywords & Functional Issues</div>
                    <div class="keywords-list">
                        ${keywords.map(keyword => `
                            <div class="keyword-tag">
                                ${keyword.text}
                                <span class="keyword-count">${keyword.count}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
                
                <div class="review-sample">
                    <div class="review-title">Sample Reviews</div>
                    ${getSampleReviews(reviews)}
                </div>
            `;
            
            resultsContainer.appendChild(storeResultsElement);
            resultsContainer.classList.add('show');
            
            // Scroll to results
            resultsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        function getSampleReviews(reviews) {
            // Get a mix of positive, neutral, and negative reviews
            const positiveReviews = reviews.filter(review => review.rating >= 4).slice(0, 3);
            const neutralReviews = reviews.filter(review => review.rating === 3).slice(0, 2);
            const negativeReviews = reviews.filter(review => review.rating <= 2).slice(0, 3);
            
            // Combine and sort by recency
            const sampleReviews = [...positiveReviews, ...neutralReviews, ...negativeReviews]
                .sort((a, b) => new Date(b.date) - new Date(a.date))
                .slice(0, 5);
            
            if (sampleReviews.length === 0) {
                return '<p>No reviews available to display.</p>';
            }
            
            return sampleReviews.map(review => {
                let sentimentClass = 'review-neutral';
                if (review.rating >= 4) sentimentClass = 'review-positive';
                if (review.rating <= 2) sentimentClass = 'review-negative';
                
                return `
                    <div class="review-card ${sentimentClass}">
                        <div class="review-header">
                            <div class="reviewer-name">${review.user}</div>
                            <div class="review-date">${formatDate(review.date)}</div>
                        </div>
                        <div class="review-rating">
                            ${'★'.repeat(review.rating)}${'☆'.repeat(5-review.rating)}
                        </div>
                        <div class="review-text">${review.text}</div>
                    </div>
                `;
            }).join('');
        }
        
        function formatDate(dateString) {
            try {
                const date = new Date(dateString);
                return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });
            } catch (e) {
                return dateString;
            }
        }
    </script>
</body>
</html>
